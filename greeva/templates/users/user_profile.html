{% extends "vertical.html" %}
{% load static i18n crispy_forms_tags %}

{% block title %}My Profile{% endblock %}

{% block page_title %}
{% include 'partials/page-title.html' with title="My Profile" %}
{% endblock page_title %}

{% block page_content %}
<div class="row justify-content-center">
    <div class="col-xl-4 col-lg-5">
        <div class="card text-center">
            <div class="card-body">
                <img src="{% static '/images/users/avatar-1.jpg' %}" class="rounded-circle avatar-xl img-thumbnail mb-3"
                    alt="profile-image">

                <h4 class="mb-0">{{ user.name }}</h4>
                <p class="text-muted">{{ user.email }}</p>


                <div class="text-start mt-3">
                    <h4 class="font-13 text-uppercase">About Me :</h4>
                    <p class="text-muted font-13 mb-3">
                        {{ user.station_name|default:"No station assigned" }}
                    </p>
                    <p class="text-muted mb-2 font-13"><strong>Full Name :</strong> <span class="ms-2">{{ user.name
                            }}</span></p>
                    <p class="text-muted mb-2 font-13"><strong>Mobile :</strong><span class="ms-2">(123) 123 1234</span>
                    </p>
                    <p class="text-muted mb-2 font-13"><strong>Email :</strong> <span class="ms-2">{{ user.email
                            }}</span></p>
                    <p class="text-muted mb-1 font-13"><strong>Location :</strong> <span class="ms-2">USA</span></p>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-8 col-lg-7">
        <div class="card">
            <div class="card-body">
                <h4 class="header-title mb-3">Update Profile</h4>
                <form class="form-horizontal" method="post" action="{% url 'users:profile' %}"
                    enctype="multipart/form-data">
                    {% csrf_token %}

                    <div class="mb-3">
                        <label for="id_name" class="form-label">Full Name</label>
                        {{ form.name }}
                    </div>

                    <div class="mb-3">
                        <label for="id_station_name" class="form-label">Station Name</label>
                        {{ form.station_name }}
                    </div>

                    <div class="mb-3 text-end">
                        <button class="btn btn-primary" type="submit">Update Info</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}